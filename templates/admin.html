<<<<<<< HEAD
<!DOCTYPE html>
<html lang="="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
<body>


<nav class="navbar navbar-dark bg-dark py-3">
  <div class="container-fluid">
    <a class="navbar-brand fs-4" href="#">Welcome {{ user }}</a>
    <div class="d-flex align-items-center gap-4">
      <a class="nav-link text-light fs-5" href="#">Home</a>
      <a class="nav-link text-light fs-5" href="#">New</a>
      <a class="nav-link text-light fs-5" href="/summary">Summary</a>
      <a class="btn btn-lg btn-danger" href="/login">Logout</a>
    </div>
  </div>
</nav>

<div class="container my-4">
  <form class="row g-2 justify-content-center align-items-center" action="/search" method="get">
    <div class="col-md-4">
      <input  class="form-control" type="search" placeholder="Search" aria-label="Search"
      name="search" required> 
    </div>

    <div class="col-md-3">
      <select class="form-select" aria-label="Select search key" name="key" required>
        <option value="" disabled selected>Select</option>
        <option value="username">User</option>
        <option value="prime_location">Lot by location</option>
        <option value="pin_code">Lot by pin Code</option>
      </select>
    </div>

    <div class="col-auto">
      <button class="btn btn-outline-dark" type="submit">Search</button>
    </div>
  </form>
</div>

<h1 class="text-center my-4">Parking Lots Dashboard</h1>
<table class="table table-bordered table-striped text-center">
    <thead class="table-dark">
        <tr>
            <th>Prime Location</th>
            <th>Price (per hour)</th>
            <th>Address</th>
            <th>Pin Code</th>
            <th>Max Spots</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for lot in lots %}
        <tr>
            <td>{{ lot.prime_location }}</td>
            <td>{{ lot.price }}</td>
            <td>{{ lot.address }}</td>
            <td>{{ lot.pin_code }}</td>
            <td>{{ lot.maximum_spots }}</td>
            <td>
                <a href="{{ url_for('edit_parking', lot_id=lot.id) }}" class="btn btn-warning btn-sm">Edit</a>
                <a href="{{ url_for('view_spot', lot_id=lot.id) }}" class="btn btn-danger btn-sm">View</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>

</table>
<div class="text-center">
  <a href="/new_parking.html" class="btn btn-warning btn-lg">Add</a>
</div>
<h1 class="text-center my-4">Users Data</h1>

<table class="table table-bordered table-striped text-center">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Spot Number</th>
      <th>Lot Address</th>
      <th>Pin Code</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
      {% set booked_spots = user.spots | selectattr('status', 'equalto', 'Booked') | list %}
      
      {% if booked_spots %}
        {% for spot in booked_spots %}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>{{ spot.spot_number }}</td>
          <td>{{ spot.lot.address }}</td>
          <td>{{ spot.lot.pin_code }}</td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td colspan="3" class="text-muted">No current bookings</td>
        </tr>
      {% endif %}
    {% endfor %}
  </tbody>
</table>
</body>
</html>


=======
<!DOCTYPE html>
<html lang="="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Parking Dashboard</title>
  <!-- Bootstrap CSS Only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark py-3">
  <div class="container-fluid">
    <a class="navbar-brand fs-4" href="#">Welcome {{user}}</a>
    <div class="d-flex align-items-center flex-wrap gap-4">
      <a class="nav-link text-light fs-5" href="#">Home</a>
      <a class="nav-link text-light fs-5" href="">new</a>
      <a class="nav-link text-light fs-5" href="">Summary</a>
      <form class="d-flex" role="search">
        <input class="form-control form-control-lg me-2" type="search" placeholder="Search..." aria-label="Search">
        <button class="btn btn-lg btn-outline-light" type="submit">Search</button>
      </form>
      <a class="btn btn-lg btn-danger" href="login.html">Logout</a>
    </div>
  </div>
</nav>
<h1 class="text-center my-4">Parking Lots Dashboard</h1>
<table class="table table-bordered table-striped text-center">
    <thead class="table-dark">
        <tr>
            <th>Prime Location</th>
            <th>Price (per hour)</th>
            <th>Address</th>
            <th>Pin Code</th>
            <th>Max Spots</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for lot in lots %}
        <tr>
            <td>{{ lot.prime_location }}</td>
            <td>{{ lot.price }}</td>
            <td>{{ lot.address }}</td>
            <td>{{ lot.pin_code }}</td>
            <td>{{ lot.maximum_spots }}</td>
            <td>
                <a href="{{ url_for('edit_parking', lot_id=lot.id) }}" class="btn btn-warning btn-sm">Edit</a>
                <a href="{{ url_for('view_spot', lot_id=lot.id) }}" class="btn btn-danger btn-sm">View</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>

</table>
<div class="text-center">
  <a href="/new_parking.html" class="btn btn-warning btn-lg">Add</a>
</div>
<h1 class="text-center my-4">Users Data</h1>
<table class="table table-bordered table-striped text-center">
    <thead class="table-dark">
        <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Lot Address</th>
      <th>Pin Code</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user.username }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.address }}</td>
      <td>{{ user.pin_code }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</body>
</html>


>>>>>>> e8efd319f640df93cef922a8deb0dff1bcf2423c
 